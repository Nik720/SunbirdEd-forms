<div class="sb-dropdown" *ngIf="!type">
  <label [attr.data-title]="field.description ? field.description : null">{{label}} {{context && 'has context'}}  {{context ?  field.context : '' }}</label>
  <ng-container *ngIf="options">
    <div class="dropdown-container" [ngClass]="{'sb-select-with-search': isSearchable}">
      <div class="dd-container form-floating" (click)="showList($event)">
          <input [(ngModel)]="searchInput" (keyup)="filterItem()" (click)="showAllList()" class="searchbox-input" type="text" [hidden]="!isSearchable" autocomplete="off">
          <label *ngIf="!showSelectdItem && isSearchable && !hidePlaceholder && !field.default" for="searchbox-input" class="float-label">{{placeholder}}</label>
          <label *ngIf="!showSelectdItem && !isSearchable && !field.default" for="searchbox-input" class="not-searchable-label">{{placeholder}}</label>
          <label *ngIf="field.default && isSearchable" for="searchbox-input" class="float-label">{{field.default.name || field.default}}</label>
          <label *ngIf="field.default && !isSearchable" for="searchbox-input" class="not-searchable-label">{{field.default.name || field.default}}</label>
      </div>
      <sb-icon-dropdown class="dropdown-icon"></sb-icon-dropdown>
      <div [hidden]="!showDropdown">
      <ul id="dd-dropdown" class="dd-dropdown-ul">
        <ng-container *ngIf="field.range && isOptionsArrayMap(field.range) && !field.association">
          <li class="dd-dropdown-li optionsArrayMap" *ngFor="let option of field.range" (click)="addSelected(option); onSubmit();" [value]="getOptionValueForRange(option, 'map')">{{option.name || option}}</li>
        </ng-container>
        <ng-container *ngIf="field.range && isOptionsArray(field.range) && !isOptionsArrayMap(field.range) && !field.association">
          <li class="dd-dropdown-li optionsArray" *ngFor="let option of field.range" (click)="addSelected(option)" [value]="getOptionValueForRange(option, 'array')">{{option.name || option}}</li>
        </ng-container>
        <ng-container *ngIf="field.range && isOptionsClosure(field.range)">
          <li class="dd-dropdown-li closure" *ngFor="let option of options$ | async" (click)="addSelected(option)" [value]="getOptionValueForRange(option, 'closure')">{{option.label}}</li>
        </ng-container>
        <ng-container *ngIf="!field.range && field.terms">
          <li class="dd-dropdown-li optionsLast" *ngFor="let option of fetchAssociations()" (click)="addSelected(option)" [value]="getOptionValueForRange(option, '')">{{option.name}}</li>
        </ng-container>
      </ul>
      </div>
      <!-- [attr.disabled]="disabled ? true : ( context ? (context.invalid ? true : null) : null )" -->
    </div>
  </ng-container>
</div>

<!-- Dropdown for filters component -->
<div class="sb-dropdown" *ngIf="type === 'facet'">
  <label>{{label}}</label>
  <ng-container *ngIf="options && options.data">
    <div class="dropdown-container">
      <sb-icon-dropdown class="dropdown-icon"></sb-icon-dropdown>
      <select [attr.disabled]="disabled ? true : ( context ? (context.invalid ? true : null) : null )"
        class="sb-dropdown-select" [ngClass]="(styleClass ? styleClass : 'default-dropdown')" id="sb-dropdown" name="sb-dropdown"
        (change)="onChangeFacet($event)" placeholder="placeholder">
        <option *ngIf="!default" [disabled]="true" selected>{{placeholder}}</option>
        <option *ngFor="let option of options.data" [ngValue]="option" [selected]="options.default === option.value">{{option.label}}</option>
      </select>
    </div>
  </ng-container>
</div>
<ng-container *ngFor="let validation of validations">
  <div class="cf-error"
    *ngIf="(validation.type && (validation.type).toLowerCase() && validation.message && formControlRef.errors && formControlRef.errors[(validation.type).toLowerCase()] && (formControlRef.dirty || formControlRef.touched))">
    {{ validation.message }}
  </div>
</ng-container>

<!-- Dropdown for filters component -->
